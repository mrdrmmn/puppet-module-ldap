<%- config = scope.parent.to_hash -%>
# /etc/nsswitch.conf
#
# Example configuration of GNU Name Service Switch functionality.
# If you have the `glibc-doc-reference' and `info' packages installed, try:
# `info libc "Name Service Switch"' for information about this file.

<% if config['ensure'] == 'present' or config['ensure'] == 'installed' -%>
passwd:         files ldap [NOTFOUND=return] db
group:          files ldap [NOTFOUND=return] db
shadow:         compat
<% else -%>
passwd:         compat
group:          compat
shadow:         compat
<% end -%>

hosts:          files dns
networks:       files

protocols:      db files
services:       db files
ethers:         db files
rpc:            db files

netgroup:       nis
